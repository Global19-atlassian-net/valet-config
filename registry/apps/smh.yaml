name: service-mesh-hub
requiredValues:
  - Version
values:
  Namespace: sm-marketplace
  AwsCredentials:
resources:
  - namespace:
      name: sm-marketplace
  - secret:
      name: github-token
      entries:
        token:
          envVar: GITHUB_TOKEN
  - secret:
      name: aws-cred
      entries:
        credentials:
          file: $HOME/.aws/valet-credentials
  - secret:
      name: remote-kube-config
      type: solo.io/kubeconfig
      entries:
        valet-testing:
          file: $HOME/.kube/eksctl/clusters/valet-testing
    flags:
      - eks
  - helmChart:
      repoUrl: "https://storage.googleapis.com/sm-marketplace-helm/"
      chartName: sm-marketplace
      repoName: sm-marketplace
      set:
        - "namespace.create=true"